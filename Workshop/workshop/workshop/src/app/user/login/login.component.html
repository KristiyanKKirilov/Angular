<div class="container">
    <form class="login" #form="ngForm" (ngSubmit)="login(form)">
        <fieldset>
            <h2>Login Form</h2>

            <p class="field field-icon">
                <label for="email"><span><i class="fas fa-envelope"></i></span></label>
                <input 
                [class]="
                emailInput?.touched && (emailInput?.errors?.['required'] 
                || emailInput?.errors?.['emailValidator']) 
                ? 'input-error': ''"  
                type="email" 
                name="email" 
                id="email" 
                placeholder="john.doe@gmail.com" 
                ngModel
                required
                #emailInput="ngModel"
                [appEmail]="domains"
                >
            </p>
            @if(emailInput.touched){
            <div>
                @if(emailInput .errors?.['required']){
                <p class="error">
                    Email is required!
                </p>
                }

                @if(emailInput.errors?.['emailValidator']){
                <p class="error">
                    Email is not valid!
                </p>
                }
            </div>


            }
            <p class="field field-icon">
                <label for="password"><span><i class="fas fa-lock"></i></span></label>
                <input 
                [class]="passwordInput.touched 
                && (passwordInput.errors?.['required'] 
                || passwordInput.errors?.['minlength']) 
                ? 'input-error' 
                : ''"
                type="password" 
                name="password" 
                id="password" 
                placeholder="******" 
                ngModel
                #passwordInput="ngModel" 
                minlength="5"
                required/>
            </p>
            @if(passwordInput?.touched){
                <div>
                    @if(passwordInput.errors?.['required']){
                        <p class="error">
                            Password is required!
                        </p>
                    }
                    @if(passwordInput.errors?.['minlength']){
                        <p class="error">
                            Password must be at least 5 characters!
                        </p>
                    }        
                </div>

            }

            <button 
            [disabled]="form.invalid"
            [style]="{backgroundColor: form.invalid ? 'grey' : '#234465' }">Login</button>

            <p class="text-center">
                Have an account?
                <a routerLink="/register">Register</a>
            </p>

        </fieldset>
    </form>
</div>
